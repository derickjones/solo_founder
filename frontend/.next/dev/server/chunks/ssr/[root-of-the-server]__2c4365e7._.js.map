{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/derickjones/Documents/VS-Code/solo_founder/frontend/src/components/Sidebar.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { ChevronDownIcon, ChevronUpIcon, XMarkIcon } from '@heroicons/react/24/outline';\n\ninterface SidebarProps {\n  selectedSources: string[];\n  setSelectedSources: (sources: string[]) => void;\n  sourceCount: number;\n  setSourceCount: (count: number) => void;\n  isOpen: boolean;\n  setIsOpen: (open: boolean) => void;\n}\n\nexport default function Sidebar({\n  selectedSources,\n  setSelectedSources,\n  sourceCount,\n  setSourceCount,\n  isOpen,\n  setIsOpen,\n}: SidebarProps) {\n  const [generalConferenceOpen, setGeneralConferenceOpen] = useState(false); // Collapsed by default\n  const [standardWorksOpen, setStandardWorksOpen] = useState(false); // Collapsed by default\n\n  const handleSourceToggle = (source: string) => {\n    if (selectedSources.includes(source)) {\n      setSelectedSources(selectedSources.filter(s => s !== source));\n    } else {\n      setSelectedSources([...selectedSources, source]);\n    }\n  };\n\n  const getConferenceSources = () => [\n    'general-conference',\n    'gc-year-2025', 'gc-year-2024', 'gc-year-2023', 'gc-year-2022', 'gc-year-2021',\n    'gc-year-2020', 'gc-year-2019', 'gc-year-2018', 'gc-year-2017', 'gc-year-2016', 'gc-year-2015',\n    'gc-speaker-russell-m-nelson', 'gc-speaker-dallin-h-oaks', 'gc-speaker-henry-b-eyring',\n    'gc-speaker-jeffrey-r-holland', 'gc-speaker-dieter-f-uchtdorf', 'gc-speaker-david-a-bednar',\n    'gc-speaker-quentin-l-cook', 'gc-speaker-d-todd-christofferson', 'gc-speaker-neil-l-andersen',\n    'gc-speaker-ronald-a-rasband', 'gc-speaker-gary-e-stevenson', 'gc-speaker-dale-g-renlund'\n  ];\n\n  const isAllConferenceSelected = () => {\n    const conferenceSources = getConferenceSources();\n    const selectedConferenceSources = selectedSources.filter(source => conferenceSources.includes(source));\n    return selectedConferenceSources.length >= conferenceSources.length * 0.8;\n  };\n\n  const handleToggleAllConference = () => {\n    const conferenceSources = getConferenceSources();\n    \n    if (isAllConferenceSelected()) {\n      // Deselect all conference sources\n      setSelectedSources(selectedSources.filter(source => !conferenceSources.includes(source)));\n    } else {\n      // Select all conference sources\n      const otherSources = selectedSources.filter(source => !conferenceSources.includes(source));\n      setSelectedSources([...otherSources, ...conferenceSources]);\n    }\n  };\n\n  const getScriptureSources = () => [\n    'book-of-mormon', 'doctrine-and-covenants', 'pearl-of-great-price', 'old-testament', 'new-testament'\n  ];\n\n  const isAllScripturesSelected = () => {\n    const scriptureSources = getScriptureSources();\n    const selectedScriptureSources = selectedSources.filter(source => scriptureSources.includes(source));\n    return selectedScriptureSources.length >= scriptureSources.length * 0.8;\n  };\n\n  const isOnlyConferenceSelected = () => {\n    const conferenceSources = getConferenceSources();\n    const scriptureSources = getScriptureSources();\n    const allSources = [...conferenceSources, ...scriptureSources];\n    \n    // Check if only conference sources are selected\n    const selectedConferenceSources = selectedSources.filter(source => conferenceSources.includes(source));\n    const selectedScriptureSources = selectedSources.filter(source => scriptureSources.includes(source));\n    \n    return selectedConferenceSources.length > 0 && selectedScriptureSources.length === 0;\n  };\n\n  const isOnlyScripturesSelected = () => {\n    const conferenceSources = getConferenceSources();\n    const scriptureSources = getScriptureSources();\n    \n    // Check if only scripture sources are selected\n    const selectedConferenceSources = selectedSources.filter(source => conferenceSources.includes(source));\n    const selectedScriptureSources = selectedSources.filter(source => scriptureSources.includes(source));\n    \n    return selectedScriptureSources.length > 0 && selectedConferenceSources.length === 0;\n  };\n\n  const handleToggleAllScriptures = () => {\n    const scriptureSources = getScriptureSources();\n    \n    if (isAllScripturesSelected()) {\n      // Deselect all scripture sources\n      setSelectedSources(selectedSources.filter(source => !scriptureSources.includes(source)));\n    } else {\n      // Select all scripture sources\n      const otherSources = selectedSources.filter(source => !scriptureSources.includes(source));\n      setSelectedSources([...otherSources, ...scriptureSources]);\n    }\n  };\n\n  const handleSelectGeneralConference = () => {\n    const conferenceSources = getConferenceSources();\n    setSelectedSources(conferenceSources);\n  };\n\n  const handleSelectStandardWorks = () => {\n    const scriptureSources = getScriptureSources();\n    setSelectedSources(scriptureSources);\n  };\n\n  const handleSelectBoth = () => {\n    const conferenceSources = getConferenceSources();\n    const scriptureSources = getScriptureSources();\n    setSelectedSources([...conferenceSources, ...scriptureSources]);\n  };\n\n  const handleToggleSelectAll = () => {\n    const allSources = [\n      // General Conference\n      'general-conference',\n      // By Year\n      'gc-year-2025', 'gc-year-2024', 'gc-year-2023', 'gc-year-2022', 'gc-year-2021',\n      'gc-year-2020', 'gc-year-2019', 'gc-year-2018', 'gc-year-2017', 'gc-year-2016', 'gc-year-2015',\n      // By Speaker\n      'gc-speaker-russell-m-nelson', 'gc-speaker-dallin-h-oaks', 'gc-speaker-henry-b-eyring',\n      'gc-speaker-jeffrey-r-holland', 'gc-speaker-dieter-f-uchtdorf', 'gc-speaker-david-a-bednar',\n      'gc-speaker-quentin-l-cook', 'gc-speaker-d-todd-christofferson', 'gc-speaker-neil-l-andersen',\n      'gc-speaker-ronald-a-rasband', 'gc-speaker-gary-e-stevenson', 'gc-speaker-dale-g-renlund',\n      // Standard Works\n      'book-of-mormon', 'doctrine-and-covenants', 'pearl-of-great-price', 'old-testament', 'new-testament'\n    ];\n\n    // If most sources are selected, deselect all. Otherwise, select all.\n    if (selectedSources.length >= allSources.length * 0.8) {\n      setSelectedSources([]);\n    } else {\n      setSelectedSources(allSources);\n    }\n  };\n\n  const isAllSelected = () => {\n    const allSources = [\n      'general-conference',\n      'gc-year-2025', 'gc-year-2024', 'gc-year-2023', 'gc-year-2022', 'gc-year-2021',\n      'gc-year-2020', 'gc-year-2019', 'gc-year-2018', 'gc-year-2017', 'gc-year-2016', 'gc-year-2015',\n      'gc-speaker-russell-m-nelson', 'gc-speaker-dallin-h-oaks', 'gc-speaker-henry-b-eyring',\n      'gc-speaker-jeffrey-r-holland', 'gc-speaker-dieter-f-uchtdorf', 'gc-speaker-david-a-bednar',\n      'gc-speaker-quentin-l-cook', 'gc-speaker-d-todd-christofferson', 'gc-speaker-neil-l-andersen',\n      'gc-speaker-ronald-a-rasband', 'gc-speaker-gary-e-stevenson', 'gc-speaker-dale-g-renlund',\n      'book-of-mormon', 'doctrine-and-covenants', 'pearl-of-great-price', 'old-testament', 'new-testament'\n    ];\n    return selectedSources.length >= allSources.length * 0.8;\n  };\n\n  return (\n    <div className={`\n      w-72 lg:w-80 bg-neutral-800 border-r border-neutral-700 flex flex-col\n      fixed lg:relative top-0 left-0 h-full z-30 transition-transform duration-300 ease-in-out\n      ${isOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n    `}>\n      {/* Header */}\n      <div className=\"p-6 border-b border-neutral-700\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 rounded-lg overflow-hidden border border-neutral-600\">\n              <img \n                src=\"/christ.jpeg\" \n                alt=\"Gospel Study Logo\" \n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n            <h1 className=\"text-xl font-semibold text-white\">Gospel Study</h1>\n          </div>\n          {/* Mobile close button */}\n          <button\n            onClick={() => setIsOpen(false)}\n            className=\"lg:hidden text-neutral-400 hover:text-white p-1\"\n          >\n            <XMarkIcon className=\"w-6 h-6\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Sources to search section */}\n      <div className=\"p-4 lg:p-6 space-y-4 overflow-y-auto flex-1\">\n        <div className=\"space-y-3\">\n          <div className=\"flex items-center justify-between\">\n            <label className=\"text-sm text-neutral-400\">Sources to search:</label>\n          </div>\n\n          {/* Quick filter buttons */}\n          <div className=\"flex flex-wrap gap-2\">\n            <button\n              onClick={handleToggleSelectAll}\n              className={`text-xs px-3 py-1 rounded transition-colors ${\n                isAllSelected()\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-neutral-700 hover:bg-neutral-600 text-neutral-300'\n              }`}\n            >\n              Select All\n            </button>\n            <button\n              onClick={handleSelectGeneralConference}\n              className={`text-xs px-3 py-1 rounded transition-colors ${\n                isOnlyConferenceSelected()\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-neutral-700 hover:bg-neutral-600 text-neutral-300'\n              }`}\n            >\n              General Conference\n            </button>\n            <button\n              onClick={handleSelectStandardWorks}\n              className={`text-xs px-3 py-1 rounded transition-colors ${\n                isOnlyScripturesSelected()\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-neutral-700 hover:bg-neutral-600 text-neutral-300'\n              }`}\n            >\n              Scriptures\n            </button>\n          </div>\n\n          <div className=\"text-2xl font-bold text-white\">{sourceCount}</div>\n          \n          {/* Range slider */}\n          <div className=\"relative\">\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"20\"\n              value={sourceCount}\n              onChange={(e) => setSourceCount(parseInt(e.target.value))}\n              className=\"w-full h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer slider\"\n              style={{\n                background: `linear-gradient(to right, #525252 0%, #525252 ${(sourceCount - 1) * 5.26}%, #374151 ${(sourceCount - 1) * 5.26}%, #374151 100%)`\n              }}\n            />\n            <div className=\"flex justify-between text-xs text-neutral-500 mt-1\">\n              <span>1</span>\n              <span>20</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"text-sm text-neutral-400 mt-4\">\n          Select your sources\n        </div>\n\n        {/* General Conference dropdown */}\n        <div className=\"space-y-2\">\n          <button\n            onClick={() => setGeneralConferenceOpen(!generalConferenceOpen)}\n            className=\"w-full flex items-center justify-between p-3 bg-neutral-700 rounded-lg hover:bg-neutral-600 transition-colors\"\n          >\n            <div className=\"flex items-center space-x-3\">\n              <span className=\"text-white text-sm\">General Conference</span>\n            </div>\n            {generalConferenceOpen ? (\n              <ChevronUpIcon className=\"w-4 h-4 text-neutral-400\" />\n            ) : (\n              <ChevronDownIcon className=\"w-4 h-4 text-neutral-400\" />\n            )}\n          </button>\n\n          {generalConferenceOpen && (\n            <div className=\"ml-6 space-y-3\">\n              {/* All General Conference */}\n              <label className=\"flex items-center space-x-2 text-sm text-neutral-300\">\n                <input\n                  type=\"checkbox\"\n                  checked={selectedSources.includes('general-conference')}\n                  onChange={() => handleSourceToggle('general-conference')}\n                  className=\"rounded\"\n                />\n                <span>All Sessions (2015-2025)</span>\n              </label>\n\n              {/* By Year */}\n              <div className=\"space-y-1\">\n                <div className=\"text-xs text-neutral-400 font-medium\">By Year:</div>\n                <div className=\"grid grid-cols-2 gap-1\">\n                  {[2025, 2024, 2023, 2022, 2021, 2020, 2019, 2018, 2017, 2016, 2015].map(year => (\n                    <label key={year} className=\"flex items-center space-x-1 text-xs text-neutral-300\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedSources.includes(`gc-year-${year}`)}\n                        onChange={() => handleSourceToggle(`gc-year-${year}`)}\n                        className=\"rounded text-xs\"\n                      />\n                      <span>{year}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n\n              {/* By Speaker */}\n              <div className=\"space-y-1\">\n                <div className=\"text-xs text-neutral-400 font-medium\">By Speaker:</div>\n                <div className=\"space-y-1\">\n                  {[\n                    'Russell M. Nelson',\n                    'Dallin H. Oaks',\n                    'Henry B. Eyring',\n                    'Jeffrey R. Holland',\n                    'Dieter F. Uchtdorf',\n                    'David A. Bednar',\n                    'Quentin L. Cook',\n                    'D. Todd Christofferson',\n                    'Neil L. Andersen',\n                    'Ronald A. Rasband',\n                    'Gary E. Stevenson',\n                    'Dale G. Renlund'\n                  ].map(speaker => {\n                    const speakerKey = `gc-speaker-${speaker.toLowerCase().replace(/\\s+/g, '-').replace('.', '')}`;\n                    return (\n                      <label key={speaker} className=\"flex items-center space-x-1 text-xs text-neutral-300\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedSources.includes(speakerKey)}\n                          onChange={() => handleSourceToggle(speakerKey)}\n                          className=\"rounded text-xs\"\n                        />\n                        <span>{speaker}</span>\n                      </label>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Standard Works dropdown */}\n        <div className=\"space-y-2\">\n          <button\n            onClick={() => setStandardWorksOpen(!standardWorksOpen)}\n            className=\"w-full flex items-center justify-between p-3 bg-neutral-700 rounded-lg hover:bg-neutral-600 transition-colors\"\n          >\n            <div className=\"flex items-center space-x-3\">\n              <span className=\"text-white text-sm\">Standard Works</span>\n            </div>\n            {standardWorksOpen ? (\n              <ChevronUpIcon className=\"w-4 h-4 text-neutral-400\" />\n            ) : (\n              <ChevronDownIcon className=\"w-4 h-4 text-neutral-400\" />\n            )}\n          </button>\n\n          {standardWorksOpen && (\n            <div className=\"ml-6 space-y-2\">\n              {[\n                'Book of Mormon',\n                'Doctrine & Covenants',\n                'Pearl of Great Price',\n                'Old Testament',\n                'New Testament'\n              ].map((work) => (\n                <label key={work} className=\"flex items-center space-x-2 text-sm text-neutral-300\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedSources.includes(work.toLowerCase().replace(/\\s+/g, '-').replace('&', 'and'))}\n                    onChange={() => handleSourceToggle(work.toLowerCase().replace(/\\s+/g, '-').replace('&', 'and'))}\n                    className=\"rounded\"\n                  />\n                  <span>{work}</span>\n                </label>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 730, "column": 0}, "map": {"version":3,"sources":["file:///Users/derickjones/Documents/VS-Code/solo_founder/frontend/src/services/api.ts"],"sourcesContent":["const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'https://gospel-guide-api-273320302933.us-central1.run.app';\n\nexport interface SearchRequest {\n  query: string;\n  mode?: string;\n  max_results?: number;\n}\n\nexport interface SearchResult {\n  content: string;\n  source: string;\n  book?: string;\n  chapter?: number;\n  verse?: number;\n  score: number;\n  citation?: string;\n  url?: string;\n  speaker?: string;\n  year?: number;\n  session?: string;\n  title?: string;\n  rank?: number;\n  paragraph?: number;\n}\n\nexport interface SearchResponse {\n  query: string;\n  results: SearchResult[];\n  total_found: number;\n  search_time: number;\n  mode: string;\n}\n\n// New AI Q&A interfaces\nexport interface AskRequest {\n  query: string;\n  mode?: string;\n  max_results?: number;\n}\n\nexport interface AskResponse {\n  query: string;\n  mode: string;\n  answer: string;\n  sources: SearchResult[];\n  total_sources: number;\n  search_time: number;\n  response_time: number;\n}\n\n// Map frontend modes to API modes\nconst MODE_MAPPING: Record<string, string> = {\n  'AI Q&A': 'default',\n  'Scripture Study': 'default',\n  'General Conference': 'general-conference-only',\n  'Book of Mormon': 'book-of-mormon-only',\n  'Come Follow Me': 'come-follow-me',\n  'Youth Mode': 'youth',\n  'Scholar Mode': 'scholar'\n};\n\n// Map selected sources to API source filters\nconst getSourceFilter = (selectedSources: string[]): any => {\n  // If no sources selected, return undefined (search all)\n  if (selectedSources.length === 0) {\n    return undefined;\n  }\n  \n  // If all sources are selected (common case), don't filter\n  const allSources = [\n    'general-conference',\n    'gc-year-2025', 'gc-year-2024', 'gc-year-2023', 'gc-year-2022', 'gc-year-2021',\n    'gc-year-2020', 'gc-year-2019', 'gc-year-2018', 'gc-year-2017', 'gc-year-2016', 'gc-year-2015',\n    'gc-speaker-russell-m-nelson', 'gc-speaker-dallin-h-oaks', 'gc-speaker-henry-b-eyring',\n    'gc-speaker-jeffrey-r-holland', 'gc-speaker-dieter-f-uchtdorf', 'gc-speaker-david-a-bednar',\n    'gc-speaker-quentin-l-cook', 'gc-speaker-d-todd-christofferson', 'gc-speaker-neil-l-andersen',\n    'gc-speaker-ronald-a-rasband', 'gc-speaker-gary-e-stevenson', 'gc-speaker-dale-g-renlund',\n    'book-of-mormon', 'doctrine-and-covenants', 'pearl-of-great-price', 'old-testament', 'new-testament'\n  ];\n  \n  if (selectedSources.length === allSources.length) {\n    return undefined; // Search all sources\n  }\n  \n  // For now, build a single filter from the most specific selection\n  // Priority: specific year/speaker filters > general conference > scripture works\n  \n  // Check for specific General Conference filters first\n  const yearFilters = selectedSources.filter(s => s.startsWith('gc-year-'));\n  if (yearFilters.length === 1) {\n    const year = parseInt(yearFilters[0].replace('gc-year-', ''));\n    return { source_type: 'conference', year };\n  }\n  \n  const speakerFilters = selectedSources.filter(s => s.startsWith('gc-speaker-'));\n  if (speakerFilters.length === 1) {\n    const speakerKey = speakerFilters[0].replace('gc-speaker-', '');\n    const speakerName = speakerKey.replace(/-/g, ' ')\n      .replace(/\\b\\w/g, l => l.toUpperCase()); // Convert to Title Case\n    return { source_type: 'conference', speaker: speakerName };\n  }\n  \n  // Check for general conference\n  if (selectedSources.includes('general-conference')) {\n    return { source_type: 'conference' };\n  }\n  \n  // Check for specific scripture works\n  const scriptureMap: Record<string, string> = {\n    'book-of-mormon': 'Book of Mormon',\n    'doctrine-and-covenants': 'Doctrine and Covenants',\n    'pearl-of-great-price': 'Pearl of Great Price',\n    'old-testament': 'Old Testament',\n    'new-testament': 'New Testament'\n  };\n  \n  const scriptureWorks = selectedSources.filter(s => scriptureMap[s]);\n  if (scriptureWorks.length === 1) {\n    return { source_type: 'scripture', standard_work: scriptureMap[scriptureWorks[0]] };\n  }\n  \n  // If multiple scripture works selected, filter by scripture type only\n  if (scriptureWorks.length > 1) {\n    return { source_type: 'scripture' };\n  }\n  \n  // Default: no filter (search all)\n  return undefined;\n};\n\nexport const searchScriptures = async (request: SearchRequest & { selectedSources?: string[] }): Promise<SearchResponse> => {\n  const apiMode = MODE_MAPPING[request.mode || 'AI Q&A'] || 'default';\n  const sourceFilter = request.selectedSources ? getSourceFilter(request.selectedSources) : undefined;\n  \n  const body = {\n    query: request.query,\n    mode: apiMode,\n    top_k: request.max_results || 5,\n    ...(sourceFilter && { source_filter: sourceFilter })\n  };\n\n  const response = await fetch(`${API_BASE_URL}/search`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(body),\n  });\n\n  if (!response.ok) {\n    const errorText = await response.text();\n    throw new Error(`Search failed: ${response.statusText} - ${errorText}`);\n  }\n\n  const data = await response.json();\n  \n  // Transform the API response to match our expected format\n  return {\n    query: data.query,\n    results: data.results.map((result: any) => ({\n      content: result.content,\n      source: result.metadata?.standard_work || 'Unknown',\n      book: result.metadata?.book || result.metadata?.title, // Use book for scriptures, title for conference talks\n      chapter: result.metadata?.chapter,\n      verse: result.metadata?.verse,\n      score: result.score,\n      citation: result.metadata?.citation,\n      url: result.metadata?.url,\n      speaker: result.metadata?.speaker,\n      year: result.metadata?.year,\n      session: result.metadata?.session,\n      title: result.metadata?.title,\n      paragraph: result.metadata?.paragraph,\n      rank: result.rank\n    })),\n    total_found: data.total_found,\n    search_time: data.search_time_ms / 1000, // Convert ms to seconds\n    mode: data.mode\n  };\n};\n\n// Streaming AI Q&A function\nexport interface StreamChunk {\n  type: 'search_complete' | 'content' | 'sources' | 'timing' | 'done' | 'error';\n  content?: string;\n  search_time_ms?: number;\n  total_sources?: number;\n  sources?: SearchResult[];\n  response_time_ms?: number;\n  total_time_ms?: number;\n  error?: string;\n}\n\nexport const askQuestionStream = async (\n  request: AskRequest & { selectedSources?: string[] },\n  onChunk: (chunk: StreamChunk) => void\n): Promise<void> => {\n  const apiMode = MODE_MAPPING[request.mode || 'AI Q&A'] || 'default';\n  const sourceFilter = request.selectedSources ? getSourceFilter(request.selectedSources) : undefined;\n  \n  const body = {\n    query: request.query,\n    mode: apiMode,\n    top_k: request.max_results || 10,\n    ...(sourceFilter && { source_filter: sourceFilter })\n  };\n\n  console.log('Streaming request body:', body);\n\n  const response = await fetch(`${API_BASE_URL}/ask/stream`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(body),\n  });\n\n  console.log('Streaming response status:', response.status, response.statusText);\n\n  if (!response.ok) {\n    throw new Error(`Streaming request failed: ${response.statusText}`);\n  }\n\n  if (!response.body) {\n    throw new Error('Response body is null');\n  }\n\n  const reader = response.body.getReader();\n  const decoder = new TextDecoder();\n  let buffer = '';\n\n  console.log('Starting to read streaming response...');\n\n  try {\n    while (true) {\n      const { done, value } = await reader.read();\n      \n      if (done) {\n        console.log('Streaming complete');\n        break;\n      }\n      \n      // Add new chunk to buffer\n      buffer += decoder.decode(value, { stream: true });\n      \n      // Split buffer on double newlines (SSE message boundaries)\n      const messages = buffer.split('\\n\\n');\n      \n      // Keep the last partial message in buffer\n      buffer = messages.pop() || '';\n      \n      // Process complete messages\n      for (const message of messages) {\n        const lines = message.split('\\n');\n        for (const line of lines) {\n          if (line.startsWith('data: ')) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              console.log('Received chunk:', data.type, data.content ? data.content.slice(0, 50) + '...' : '');\n              \n              // Transform sources to match our expected format\n              if (data.type === 'sources' && data.sources) {\n                data.sources = data.sources.map((source: any) => ({\n                  content: source.content,\n                  source: source.metadata?.standard_work || 'Unknown',\n                  book: source.metadata?.book || source.metadata?.title, // Use book for scriptures, title for conference talks\n                  chapter: source.metadata?.chapter,\n                  verse: source.metadata?.verse,\n                  score: source.score,\n                  citation: source.metadata?.citation,\n                  url: source.metadata?.url,\n                  speaker: source.metadata?.speaker,\n                  year: source.metadata?.year,\n                  session: source.metadata?.session,\n                  title: source.metadata?.title,\n                  paragraph: source.metadata?.paragraph,\n                  rank: source.rank\n                }));\n              }\n              \n              onChunk(data);\n            } catch (e) {\n              console.error('Failed to parse SSE data:', e, 'Line:', line);\n            }\n          }\n        }\n      }\n    }\n  } finally {\n    reader.releaseLock();\n  }\n};\n\nexport const getAvailableSources = async (): Promise<{ standard_works: string[], speakers: string[] }> => {\n  const response = await fetch(`${API_BASE_URL}/sources`);\n  \n  if (!response.ok) {\n    throw new Error(`Failed to fetch sources: ${response.statusText}`);\n  }\n\n  return response.json();\n};\n\nexport const getHealth = async (): Promise<{ status: string, segments_loaded: number }> => {\n  const response = await fetch(`${API_BASE_URL}/health`);\n  \n  if (!response.ok) {\n    throw new Error(`Health check failed: ${response.statusText}`);\n  }\n\n  const data = await response.json();\n  return {\n    status: data.status,\n    segments_loaded: data.total_segments\n  };\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1058, "column": 0}, "map": {"version":3,"sources":["file:///Users/derickjones/Documents/VS-Code/solo_founder/frontend/src/components/ChatInterface.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef } from 'react';\nimport { flushSync } from 'react-dom';\nimport { ChevronDownIcon, PaperAirplaneIcon, Bars3Icon } from '@heroicons/react/24/outline';\nimport { searchScriptures, SearchResult, askQuestionStream, StreamChunk } from '@/services/api';\nimport ReactMarkdown from 'react-markdown';\n\ninterface Message {\n  id: number;\n  type: 'user' | 'assistant';\n  content: string;\n  results?: SearchResult[];\n  searchTime?: number;\n  isStreaming?: boolean;\n}\n\nimport Link from 'next/link';\n\ninterface ChatInterfaceProps {\n  selectedSources: string[];\n  sourceCount: number;\n  sidebarOpen: boolean;\n  setSidebarOpen: (open: boolean) => void;\n}\n\nexport default function ChatInterface({ selectedSources, sourceCount, sidebarOpen, setSidebarOpen }: ChatInterfaceProps) {\n  const [query, setQuery] = useState('');\n  const [mode, setMode] = useState('AI Q&A');\n  const [modeDropdownOpen, setModeDropdownOpen] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Format citations from individual metadata fields\n  const formatCitation = (result: SearchResult) => {\n    if (result.speaker && result.title) {\n      // Conference talk format: Speaker, \"Title\", Session Year, ¶#\n      let citation = `${result.speaker}, \"${result.title}\"`;\n      if (result.session && result.year) {\n        citation += `, ${result.session} ${result.year}`;\n      }\n      if (result.paragraph) {\n        citation += `, ¶${result.paragraph}`;\n      }\n      return citation;\n    } else if (result.book && result.chapter) {\n      // Scripture format: Standard Work Book Chapter:Verse\n      return `${result.source} ${result.book} ${result.chapter}${result.verse ? `:${result.verse}` : ''}`;\n    } else if (result.source) {\n      // Fallback to source name\n      return result.source;\n    }\n    // Last resort - use cleaned original citation\n    return result.citation?.replace(/^\\((.+)\\)$/, '$1') || 'Unknown Source';\n  };\n\n  // Format text for better readability\n  const formatText = (text: string) => {\n    return text\n      // Split on sentence endings followed by capitals (new topics)\n      .replace(/(\\. )([A-Z][a-z])/g, '$1\\n\\n$2')\n      // Split on numbered points\n      .replace(/(\\d+\\. )/g, '\\n\\n$1')\n      // Split on quotes that start new thoughts  \n      .replace(/(\") ([A-Z])/g, '$1\\n\\n$2')\n      // Split on scripture citations in parentheses followed by new thoughts\n      .replace(/(\\([^)]+\\)\\. )([A-Z])/g, '$1\\n\\n$2')\n      // Split on long sentences for readability\n      .replace(/([.!?]) ([A-Z][^.!?]{50,})/g, '$1\\n\\n$2')\n      // Clean up extra spaces and normalize\n      .replace(/\\n{3,}/g, '\\n\\n')\n      .trim();\n  };\n\n  const modes = [\n    'AI Q&A',\n    'Scripture Study',\n    'General Conference',\n    'Book of Mormon',\n    'Come Follow Me',\n    'Youth Mode',\n    'Scholar Mode'\n  ];\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!query.trim() || isLoading) return;\n\n    // Add user message\n    const userMessage: Message = { id: Date.now(), type: 'user', content: query };\n    setMessages(prev => [...prev, userMessage]);\n\n    setIsLoading(true);\n    const searchQuery = query;\n    setQuery('');\n\n    // Create assistant message that will be updated as we stream\n    const assistantMessageId = Date.now() + 1;\n    const initialAssistantMessage: Message = {\n      id: assistantMessageId,\n      type: 'assistant',\n      content: '',\n      results: [],\n      searchTime: 0,\n      isStreaming: true\n    };\n    setMessages(prev => [...prev, initialAssistantMessage]);\n\n    try {\n      let fullAnswer = '';\n      let sources: SearchResult[] = [];\n      let searchTime = 0;\n      let lastUpdateTime = 0;\n      const UPDATE_THROTTLE = 50; // Update UI every 50ms max\n\n      await askQuestionStream({\n        query: searchQuery,\n        mode,\n        max_results: sourceCount,\n        selectedSources\n      }, (chunk: StreamChunk) => {\n        console.log('Received chunk in ChatInterface:', chunk.type, chunk.content ? chunk.content.slice(0, 30) + '...' : '');\n        switch (chunk.type) {\n          case 'search_complete':\n            searchTime = (chunk.search_time_ms || 0) / 1000;\n            setMessages(prev => prev.map(msg => \n              msg.id === assistantMessageId \n                ? { ...msg, content: `✅ Found ${chunk.total_sources || 0} sources. Generating response...`, searchTime }\n                : msg\n            ));\n            break;\n            \n          case 'content':\n            if (chunk.content) {\n              fullAnswer += chunk.content;\n              \n              // Throttle updates for better visual streaming effect\n              const now = Date.now();\n              if (now - lastUpdateTime > UPDATE_THROTTLE) {\n                lastUpdateTime = now;\n                setMessages(prev => prev.map(msg => \n                  msg.id === assistantMessageId \n                    ? { ...msg, content: fullAnswer }\n                    : msg\n                ));\n              }\n            }\n            break;\n            \n          case 'sources':\n            if (chunk.sources) {\n              sources = chunk.sources;\n              setMessages(prev => prev.map(msg => \n                msg.id === assistantMessageId \n                  ? { ...msg, results: sources }\n                  : msg\n              ));\n            }\n            break;\n            \n          case 'done':\n            // Make sure final content is displayed and mark streaming as complete\n            setMessages(prev => prev.map(msg => \n              msg.id === assistantMessageId \n                ? { ...msg, content: fullAnswer, isStreaming: false }\n                : msg\n            ));\n            setIsLoading(false);\n            break;\n            \n          case 'error':\n            setMessages(prev => prev.map(msg => \n              msg.id === assistantMessageId \n                ? { ...msg, content: `Sorry, I encountered an error: ${chunk.error}`, isStreaming: false }\n                : msg\n            ));\n            setIsLoading(false);\n            break;\n        }\n      });\n      \n    } catch (error) {\n      setMessages(prev => prev.map(msg => \n        msg.id === assistantMessageId \n          ? { ...msg, content: `Sorry, I encountered an error: ${error instanceof Error ? error.message : 'Unknown error'}`, isStreaming: false }\n          : msg\n      ));\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex-1 flex flex-col bg-neutral-900 lg:ml-0\">\n      {/* Mobile hamburger menu */}\n      <div className=\"lg:hidden flex items-center justify-between p-4 border-b border-neutral-700\">\n        <button\n          onClick={() => setSidebarOpen(true)}\n          className=\"text-neutral-400 hover:text-white p-2\"\n        >\n          <Bars3Icon className=\"w-6 h-6\" />\n        </button>\n        <h1 className=\"text-lg font-semibold text-white\">Gospel Study</h1>\n        <div className=\"w-10\"></div> {/* Spacer for centering */}\n      </div>\n\n      {/* Header with logo */}\n      <div className=\"flex items-center justify-center pt-8 lg:pt-16 pb-6 lg:pb-8 px-4\">\n        <div className=\"flex flex-col items-center space-y-4 lg:space-y-6\">\n          <div className=\"w-16 h-16 lg:w-24 lg:h-24 rounded-full overflow-hidden border-2 border-neutral-700\">\n            <img \n              src=\"/christ.jpeg\" \n              alt=\"Gospel Study Assistant Logo\" \n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n          <div className=\"text-center\">\n            <h1 className=\"text-2xl lg:text-4xl font-bold text-white mb-2\">Gospel Study Assistant</h1>\n            <p className=\"text-sm lg:text-xl text-neutral-400 px-4\">Gospel study made simple to build faith - for Come Follow Me, lessons, and personal study</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Input area below header */}\n      <div className=\"px-4 lg:px-8 pb-4\">\n        <div className=\"max-w-4xl mx-auto\">\n          <form onSubmit={handleSubmit} className=\"relative\">\n            <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center bg-neutral-800 border-2 border-neutral-700 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-500/20 rounded-2xl p-3 lg:p-4 transition-all duration-200 gap-3 sm:gap-0\">\n              <input\n                type=\"text\"\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n                placeholder=\"Ask any gospel question...\"\n                className=\"flex-1 bg-transparent text-white placeholder-neutral-400 outline-none text-base lg:text-lg min-w-0\"\n              />\n              \n              {/* Mode selector */}\n              <div className=\"relative sm:mx-4 order-2 sm:order-1\">\n                <button\n                  type=\"button\"\n                  onClick={() => setModeDropdownOpen(!modeDropdownOpen)}\n                  className=\"flex items-center justify-center space-x-2 bg-neutral-700 hover:bg-neutral-600 px-3 lg:px-4 py-2 rounded-lg transition-colors w-full sm:w-auto\"\n                >\n                  <span className=\"text-white text-xs lg:text-sm\">{mode}</span>\n                  <ChevronDownIcon className=\"w-4 h-4 text-neutral-400\" />\n                </button>\n                \n                {modeDropdownOpen && (\n                  <div className=\"absolute top-full right-0 mt-2 bg-neutral-700 rounded-lg shadow-lg border border-neutral-600 py-2 min-w-40\">\n                    {modes.map((modeOption) => (\n                      <button\n                        key={modeOption}\n                        type=\"button\"\n                        onClick={() => {\n                          setMode(modeOption);\n                          setModeDropdownOpen(false);\n                        }}\n                        className=\"block w-full px-4 py-2 text-left text-white hover:bg-neutral-600 transition-colors text-sm\"\n                      >\n                        {modeOption}\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={!query.trim() || isLoading}\n                className=\"bg-neutral-600 hover:bg-neutral-500 disabled:bg-neutral-700 disabled:cursor-not-allowed p-2 lg:p-3 rounded-full transition-colors order-1 sm:order-2 self-end sm:self-center\"\n              >\n                {isLoading ? (\n                  <div className=\"animate-spin rounded-full h-4 w-4 lg:h-5 lg:w-5 border-2 border-white border-t-transparent\" />\n                ) : (\n                  <PaperAirplaneIcon className=\"w-4 h-4 lg:w-5 lg:h-5 text-white\" />\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      {/* Messages area */}\n      <div className=\"flex-1 px-4 lg:px-8 pb-4 lg:pb-8 overflow-y-auto\">\n        {messages.length > 0 ? (\n          <div className=\"max-w-4xl mx-auto space-y-4 lg:space-y-6\">\n            {messages.map((message) => (\n              <div key={message.id} className=\"space-y-4\">\n                {(message.type === 'user' || (message.type === 'assistant' && message.content)) && (\n                  <div\n                    className={`p-3 lg:p-4 rounded-lg ${\n                      message.type === 'user'\n                        ? 'bg-neutral-600 text-white ml-auto max-w-sm lg:max-w-lg'\n                        : 'bg-neutral-700 text-white max-w-full'\n                    }`}\n                  >\n                    {message.type === 'assistant' ? (\n                      message.content ? (\n                        <div className=\"space-y-4 leading-relaxed text-neutral-100 prose prose-invert max-w-none [&>*]:text-neutral-100\">\n                          {message.isStreaming ? (\n                            // During streaming, use simple text with minimal parsing for better performance\n                            <div className=\"text-base leading-7 text-neutral-100 whitespace-pre-wrap\">\n                              {message.content}\n                              <span className=\"inline-block w-2 h-4 bg-green-400 animate-pulse ml-1\">|</span>\n                            </div>\n                          ) : (\n                            // After streaming is complete, use full markdown rendering\n                            <ReactMarkdown \n                              components={{\n                                strong: ({ children }) => <strong className=\"font-bold text-white\">{children}</strong>,\n                                em: ({ children }) => <em className=\"italic\">{children}</em>,\n                                p: ({ children }) => <p className=\"text-base leading-7 mb-4 text-neutral-100\">{children}</p>\n                              }}\n                            >\n                              {message.content}\n                            </ReactMarkdown>\n                          )}\n                        </div>\n                      ) : null\n                    ) : (\n                      message.content\n                    )}\n                  </div>\n                )}\n                \n                {/* Display search results */}\n                {message.type === 'assistant' && message.results && message.results.length > 0 && (\n                  <div className=\"space-y-3 ml-4\">\n                    <div className=\"text-sm text-neutral-400 font-medium mb-3 border-b border-neutral-700 pb-2\">\n                      References ({message.results.length})\n                    </div>\n                    {message.results.map((result, index) => (\n                      <div key={index} className=\"bg-neutral-800 p-4 rounded-lg border border-neutral-600 hover:border-neutral-500 transition-colors\">\n                        <div className=\"flex items-start justify-between gap-4\">\n                          <div className=\"flex-1\">\n                            {/* Citation */}\n                            <div className=\"text-sm text-neutral-200 font-medium mb-2\">\n                              {formatCitation(result)}\n                            </div>\n                            \n                            {/* URL Link */}\n                            {result.url && (\n                              <a \n                                href={result.url} \n                                target=\"_blank\" \n                                rel=\"noopener noreferrer\"\n                                className=\"inline-flex items-center text-xs text-blue-400 hover:text-blue-300 transition-colors\"\n                              >\n                                🔗 Read Full Text\n                                <svg className=\"w-3 h-3 ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                                </svg>\n                              </a>\n                            )}\n                          </div>\n                          \n                          {/* Relevancy Indicator */}\n                          <div className=\"flex flex-col items-end\">\n                            <div className=\"text-xs text-neutral-400 mb-1\">Relevance</div>\n                            <div className=\"flex items-center gap-2\">\n                              <div className=\"w-16 h-2 bg-neutral-700 rounded-full overflow-hidden\">\n                                <div \n                                  className={`h-full rounded-full transition-all ${\n                                    result.score >= 0.8 ? 'bg-green-500' :\n                                    result.score >= 0.6 ? 'bg-yellow-500' : 'bg-red-500'\n                                  }`}\n                                  style={{ width: `${Math.max(result.score * 100, 5)}%` }}\n                                />\n                              </div>\n                              <span className=\"text-xs text-neutral-400 font-mono\">\n                                {(result.score * 100).toFixed(0)}%\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n            \n            {/* Loading indicator */}\n            {isLoading && (\n              <div className=\"flex items-center justify-center p-4\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-500\"></div>\n                <span className=\"ml-3 text-neutral-400\">Searching scriptures...</span>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"flex-1\" />\n        )}\n      </div>\n\n      {/* Footer */}\n      <div className=\"px-8 py-4 border-t border-neutral-700\">\n        <div className=\"max-w-4xl mx-auto flex items-center justify-between text-sm text-neutral-400\">\n          <div>© 2025 Gospel Study Assistant • AI-powered gospel study</div>\n          <div className=\"flex space-x-6\">\n            <Link href=\"/terms\" className=\"hover:text-white transition-colors\">\n              Terms of Use\n            </Link>\n            <Link href=\"/about\" className=\"hover:text-white transition-colors\">\n              About\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1769, "column": 0}, "map": {"version":3,"sources":["file:///Users/derickjones/Documents/VS-Code/solo_founder/frontend/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Sidebar from '@/components/Sidebar';\nimport ChatInterface from '@/components/ChatInterface';\n\nexport default function Home() {\n  // Pre-select all available sources\n  const allSources = [\n    // General Conference\n    'general-conference',\n    // By Year\n    'gc-year-2025', 'gc-year-2024', 'gc-year-2023', 'gc-year-2022', 'gc-year-2021',\n    'gc-year-2020', 'gc-year-2019', 'gc-year-2018', 'gc-year-2017', 'gc-year-2016', 'gc-year-2015',\n    // By Speaker\n    'gc-speaker-russell-m-nelson', 'gc-speaker-dallin-h-oaks', 'gc-speaker-henry-b-eyring',\n    'gc-speaker-jeffrey-r-holland', 'gc-speaker-dieter-f-uchtdorf', 'gc-speaker-david-a-bednar',\n    'gc-speaker-quentin-l-cook', 'gc-speaker-d-todd-christofferson', 'gc-speaker-neil-l-andersen',\n    'gc-speaker-ronald-a-rasband', 'gc-speaker-gary-e-stevenson', 'gc-speaker-dale-g-renlund',\n    // Standard Works\n    'book-of-mormon', 'doctrine-and-covenants', 'pearl-of-great-price', 'old-testament', 'new-testament'\n  ];\n  \n  const [selectedSources, setSelectedSources] = useState<string[]>(allSources);\n  const [sourceCount, setSourceCount] = useState(10);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  return (\n    <div className=\"flex h-screen bg-gray-900 text-white relative\">\n      {/* Mobile backdrop */}\n      {sidebarOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n      \n      <Sidebar \n        selectedSources={selectedSources}\n        setSelectedSources={setSelectedSources}\n        sourceCount={sourceCount}\n        setSourceCount={setSourceCount}\n        isOpen={sidebarOpen}\n        setIsOpen={setSidebarOpen}\n      />\n      <ChatInterface \n        selectedSources={selectedSources}\n        sourceCount={sourceCount}\n        sidebarOpen={sidebarOpen}\n        setSidebarOpen={setSidebarOpen}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,mCAAmC;IACnC,MAAM,aAAa;QACjB,qBAAqB;QACrB;QACA,UAAU;QACV;QAAgB;QAAgB;QAAgB;QAAgB;QAChE;QAAgB;QAAgB;QAAgB;QAAgB;QAAgB;QAChF,aAAa;QACb;QAA+B;QAA4B;QAC3D;QAAgC;QAAgC;QAChE;QAA6B;QAAoC;QACjE;QAA+B;QAA+B;QAC9D,iBAAiB;QACjB;QAAkB;QAA0B;QAAwB;QAAiB;KACtF;IAED,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAW;IACjE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,qBACE,8OAAC;QAAI,WAAU;;YAEZ,6BACC,8OAAC;gBACC,WAAU;gBACV,SAAS,IAAM,eAAe;;;;;;0BAIlC,8OAAC,wIAAO;gBACN,iBAAiB;gBACjB,oBAAoB;gBACpB,aAAa;gBACb,gBAAgB;gBAChB,QAAQ;gBACR,WAAW;;;;;;0BAEb,8OAAC,8IAAa;gBACZ,iBAAiB;gBACjB,aAAa;gBACb,aAAa;gBACb,gBAAgB;;;;;;;;;;;;AAIxB"}}]
}